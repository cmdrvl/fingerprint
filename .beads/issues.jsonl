{"id":"bd-14l","title":"PRM-FP-0012: Extend fixtures with refusal/witness edge cases","description":"Extend fixtures with deeper refusal and witness edge cases after core corpus is in place.\n\n## Acceptance Criteria\n- Add fixtures for unsupported formats, version-mismatch input, duplicate/invalid manifest lines, and witness-ledger query edge cases; include per-fixture intent notes in tests/fixtures/README.md; integration/smoke/golden beads can reference these fixtures without creating ad-hoc temp data.\n\n## Notes\nNon-goal: implement runtime logic changes; this bead is fixtures/documentation only.","acceptance_criteria":"Add fixtures for unsupported formats, version-mismatch input, duplicate/invalid manifest lines, and witness-ledger query edge cases; include per-fixture intent notes in tests/fixtures/README.md; integration/smoke/golden beads can reference these fixtures without creating ad-hoc temp data.","notes":"Non-goal: implement runtime logic changes; this bead is fixtures/documentation only.","status":"open","priority":2,"issue_type":"feature","created_at":"2026-02-25T04:04:27.585284Z","created_by":"zac","updated_at":"2026-02-25T04:05:41.284228Z","compaction_level":0,"original_size":0,"labels":["fixtures","tests","witness"],"dependencies":[{"issue_id":"bd-14l","depends_on_id":"bd-9in","type":"blocks","created_at":"2026-02-25T04:04:31.913482Z","created_by":"zac"}]}
{"id":"bd-18y","title":"PRM-FP-0007: Add integration tests for pipeline run mode","description":"Add integration tests for run-mode pipeline behavior from hashed JSONL input to fingerprint JSONL output.\n\n## Acceptance Criteria\n- Cover all-matched path (exit 0), partial no-match or skipped path (exit 1), and refusal path (exit 2); verify passthrough of upstream _skipped records and creation of new _skipped for parse failures; assert output ordering is preserved under >1 worker setting; assert refusal envelope shape for E_BAD_INPUT/E_UNKNOWN_FP.\n\n## Notes\nBoundary: run mode only; compile-mode CLI and witness-command smoke remain in other beads.","acceptance_criteria":"Cover all-matched path (exit 0), partial no-match or skipped path (exit 1), and refusal path (exit 2); verify passthrough of upstream _skipped records and creation of new _skipped for parse failures; assert output ordering is preserved under >1 worker setting; assert refusal envelope shape for E_BAD_INPUT/E_UNKNOWN_FP.","notes":"Boundary: run mode only; compile-mode CLI and witness-command smoke remain in other beads.","status":"open","priority":1,"issue_type":"feature","created_at":"2026-02-25T03:58:31.041415Z","created_by":"zac","updated_at":"2026-02-25T04:05:40.797427Z","compaction_level":0,"original_size":0,"labels":["integration","pipeline","tests"],"dependencies":[{"issue_id":"bd-18y","depends_on_id":"bd-14l","type":"blocks","created_at":"2026-02-25T04:04:31.958699Z","created_by":"zac"},{"issue_id":"bd-18y","depends_on_id":"bd-9in","type":"blocks","created_at":"2026-02-25T04:02:09.730892Z","created_by":"zac"}]}
{"id":"bd-1zd","title":"PRM-FP-0006: Build unit test suite for assertion engine","description":"Add unit tests for assertion engine and refusal-detail construction with deterministic outcomes.\n\n## Acceptance Criteria\n- Add unit tests for sheet_exists/cell_eq/cell_regex/range_non_null/sheet_min_rows and filename/sheet-name regex assertions; verify short-circuit behavior records skipped assertions deterministically; add refusal-detail tests for input validation errors with stable code+detail shape; tests run under cargo test without network/external dependencies.\n\n## Notes\nBoundary: unit-level behavior only, no end-to-end pipeline wiring in this bead.","acceptance_criteria":"Add unit tests for sheet_exists/cell_eq/cell_regex/range_non_null/sheet_min_rows and filename/sheet-name regex assertions; verify short-circuit behavior records skipped assertions deterministically; add refusal-detail tests for input validation errors with stable code+detail shape; tests run under cargo test without network/external dependencies.","notes":"Boundary: unit-level behavior only, no end-to-end pipeline wiring in this bead.","status":"open","priority":1,"issue_type":"feature","created_at":"2026-02-25T03:58:30.996618Z","created_by":"zac","updated_at":"2026-02-25T04:05:40.882172Z","compaction_level":0,"original_size":0,"labels":["tests","unit"],"dependencies":[{"issue_id":"bd-1zd","depends_on_id":"bd-9in","type":"blocks","created_at":"2026-02-25T04:02:09.685652Z","created_by":"zac"}]}
{"id":"bd-2fj","title":"PRM-FP-0001: Release infra parity audit vs rvl","description":"Audit fingerprint release/build automation against rvl baseline and produce an actionable parity matrix. Scope is documentation + bead planning only; no workflow code changes in this issue.\n\n## Acceptance Criteria\n- Create docs/RELEASE_PARITY_AUDIT.md with side-by-side matrix (ci.yml, release.yml, checksums/signing, SBOM/provenance, Homebrew update path); classify each row as keep/adapt/defer with rationale; link each open gap to a specific bead ID and confirm no unmatched gaps remain.\n\n## Notes\nBoundary: repo automation parity only. Do not change fingerprint runtime/spec behavior in this bead.","acceptance_criteria":"Create docs/RELEASE_PARITY_AUDIT.md with side-by-side matrix (ci.yml, release.yml, checksums/signing, SBOM/provenance, Homebrew update path); classify each row as keep/adapt/defer with rationale; link each open gap to a specific bead ID and confirm no unmatched gaps remain.","notes":"Boundary: repo automation parity only. Do not change fingerprint runtime/spec behavior in this bead.","status":"open","priority":1,"issue_type":"task","created_at":"2026-02-25T03:58:30.780902Z","created_by":"zac","updated_at":"2026-02-25T04:05:41.122922Z","compaction_level":0,"original_size":0,"labels":["infra","parity","release"]}
{"id":"bd-2ka","title":"PRM-FP-0009: Add golden-output determinism tests","description":"Add deterministic golden-output tests for JSONL and witness-record schema shape.\n\n## Acceptance Criteria\n- Create golden fixtures for matched, no-match, skipped, and refusal outputs; assert byte-stable JSONL serialization and content_hash determinism for identical inputs; assert witness record schema fields and stable key presence/order expectations used by downstream tools; include fixture regeneration instructions.\n\n## Notes\nBoundary: golden determinism only; command-surface smoke semantics belong in PRM-FP-0008.","acceptance_criteria":"Create golden fixtures for matched, no-match, skipped, and refusal outputs; assert byte-stable JSONL serialization and content_hash determinism for identical inputs; assert witness record schema fields and stable key presence/order expectations used by downstream tools; include fixture regeneration instructions.","notes":"Boundary: golden determinism only; command-surface smoke semantics belong in PRM-FP-0008.","status":"open","priority":2,"issue_type":"feature","created_at":"2026-02-25T03:58:31.128628Z","created_by":"zac","updated_at":"2026-02-25T04:05:41.365044Z","compaction_level":0,"original_size":0,"labels":["determinism","golden","tests"],"dependencies":[{"issue_id":"bd-2ka","depends_on_id":"bd-14l","type":"blocks","created_at":"2026-02-25T04:04:32.048444Z","created_by":"zac"},{"issue_id":"bd-2ka","depends_on_id":"bd-9in","type":"blocks","created_at":"2026-02-25T04:02:09.819515Z","created_by":"zac"}]}
{"id":"bd-2p6","title":"PRM-FP-0002: Add rvl-style CI workflow baseline","description":"Implement baseline CI workflow parity with rvl for quality gates (fmt/clippy/test + basic binary smoke where applicable). This issue does not publish releases or manage tap updates.\n\n## Acceptance Criteria\n- Add .github/workflows/ci.yml; workflow runs on push and pull_request to main; includes fmt/clippy/test jobs and a final aggregate success gate; includes cross-platform build smoke on release/tag path (version/help); workflow YAML validates and executes without syntax/runtime errors.\n\n## Notes\nNon-goal: release publishing, signing, SBOM/provenance, or Homebrew updates.","acceptance_criteria":"Add .github/workflows/ci.yml; workflow runs on push and pull_request to main; includes fmt/clippy/test jobs and a final aggregate success gate; includes cross-platform build smoke on release/tag path (version/help); workflow YAML validates and executes without syntax/runtime errors.","notes":"Non-goal: release publishing, signing, SBOM/provenance, or Homebrew updates.","status":"open","priority":1,"issue_type":"feature","created_at":"2026-02-25T03:58:30.824185Z","created_by":"zac","updated_at":"2026-02-25T04:05:41.042490Z","compaction_level":0,"original_size":0,"labels":["ci","infra","release"],"dependencies":[{"issue_id":"bd-2p6","depends_on_id":"bd-2fj","type":"blocks","created_at":"2026-02-25T03:58:43.238909Z","created_by":"zac"}]}
{"id":"bd-3j6","title":"PRM-FP-0010: Enforce coverage in CI","description":"Enforce required test suites in CI after suite implementation is complete.\n\n## Acceptance Criteria\n- CI fails if unit/integration/smoke/golden suites fail or are skipped; CI summary clearly reports each suite status; protection-ready aggregate job exists for branch rules; documentation describes required suites and local command to reproduce gates.\n\n## Notes\nDepends on CI baseline and all test-suite beads; this issue should only wire enforcement, not invent new tests.","acceptance_criteria":"CI fails if unit/integration/smoke/golden suites fail or are skipped; CI summary clearly reports each suite status; protection-ready aggregate job exists for branch rules; documentation describes required suites and local command to reproduce gates.","notes":"Depends on CI baseline and all test-suite beads; this issue should only wire enforcement, not invent new tests.","status":"open","priority":1,"issue_type":"task","created_at":"2026-02-25T03:58:31.169547Z","created_by":"zac","updated_at":"2026-02-25T04:05:40.717305Z","compaction_level":0,"original_size":0,"labels":["ci","coverage","tests"],"dependencies":[{"issue_id":"bd-3j6","depends_on_id":"bd-18y","type":"blocks","created_at":"2026-02-25T03:58:43.667929Z","created_by":"zac"},{"issue_id":"bd-3j6","depends_on_id":"bd-1zd","type":"blocks","created_at":"2026-02-25T03:58:43.626258Z","created_by":"zac"},{"issue_id":"bd-3j6","depends_on_id":"bd-2ka","type":"blocks","created_at":"2026-02-25T03:58:43.751361Z","created_by":"zac"},{"issue_id":"bd-3j6","depends_on_id":"bd-2p6","type":"blocks","created_at":"2026-02-25T04:04:32.185283Z","created_by":"zac"},{"issue_id":"bd-3j6","depends_on_id":"bd-kmi","type":"blocks","created_at":"2026-02-25T03:58:43.706663Z","created_by":"zac"}]}
{"id":"bd-3o0","title":"PRM-FP-0004: Wire Homebrew release path parity","description":"Add Homebrew/tap update path parity using produced release artifacts and checksums from release workflow.\n\n## Acceptance Criteria\n- Workflow/job updates fingerprint formula with current version and per-target checksums; automation references published release artifacts and SHA256SUMS; resulting formula supports install verification path equivalent to rvl tap behavior; dry-run/validation step confirms generated formula syntax and URLs.\n\n## Notes\nBoundary: formula automation only; avoid rebuilding release artifacts in this bead.","acceptance_criteria":"Workflow/job updates fingerprint formula with current version and per-target checksums; automation references published release artifacts and SHA256SUMS; resulting formula supports install verification path equivalent to rvl tap behavior; dry-run/validation step confirms generated formula syntax and URLs.","notes":"Boundary: formula automation only; avoid rebuilding release artifacts in this bead.","status":"open","priority":2,"issue_type":"feature","created_at":"2026-02-25T03:58:30.908642Z","created_by":"zac","updated_at":"2026-02-25T04:05:41.527624Z","compaction_level":0,"original_size":0,"labels":["brew","infra","release"],"dependencies":[{"issue_id":"bd-3o0","depends_on_id":"bd-2fj","type":"blocks","created_at":"2026-02-25T03:58:43.328857Z","created_by":"zac"},{"issue_id":"bd-3o0","depends_on_id":"bd-poy","type":"blocks","created_at":"2026-02-25T04:04:32.137286Z","created_by":"zac"},{"issue_id":"bd-3o0","depends_on_id":"bd-w5b","type":"blocks","created_at":"2026-02-25T03:58:43.373976Z","created_by":"zac"}]}
{"id":"bd-412","title":"PRM-FP-0005: Test coverage parity plan vs rvl","description":"Audit current fingerprint tests against rvl coverage model (unit, integration, smoke, golden, witness command coverage). Produce missing-test matrix and convert it into executable test beads.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-02-25T03:58:30.953053Z","created_by":"zac","updated_at":"2026-02-25T04:02:20.777981Z","closed_at":"2026-02-25T04:02:20.777887Z","close_reason":"parity matrix completed and gaps converted to executable beads","compaction_level":0,"original_size":0,"labels":["coverage","parity","tests"],"comments":[{"id":1,"issue_id":"bd-412","author":"Zac","text":"Completed PRM-FP-0005 parity review. Added docs/TEST_COVERAGE_PARITY.md with evidence-based matrix versus rvl (213 src tests, 111 integration tests, 120 fixture files baseline vs 0 today in fingerprint). Confirmed all identified gaps are mapped to executable beads; added bd-9in for fixture corpus and linked dependencies from bd-1zd/bd-18y/bd-kmi/bd-2ka.","created_at":"2026-02-25T04:02:20Z"}]}
{"id":"bd-9in","title":"PRM-FP-0011: Build core fixture corpus for fingerprint tests","description":"Create core fixture corpus required for initial unit/integration/smoke/golden bring-up: representative csv/xlsx/pdf samples, hashed manifests, and minimal skipped/refusal triggers.\n\n## Acceptance Criteria\n- Add tests/fixtures with core happy-path files for csv/xlsx/pdf; add hashed manifest fixtures for pipeline tests; add at least one corrupt/parse-fail fixture and one malformed-input manifest fixture for refusal path; document fixture inventory in tests/fixtures/README.md with intended test usage.\n\n## Notes\nKeep scope to core bring-up corpus; advanced edge-case fixtures move to PRM-FP-0012.","acceptance_criteria":"Add tests/fixtures with core happy-path files for csv/xlsx/pdf; add hashed manifest fixtures for pipeline tests; add at least one corrupt/parse-fail fixture and one malformed-input manifest fixture for refusal path; document fixture inventory in tests/fixtures/README.md with intended test usage.","notes":"Keep scope to core bring-up corpus; advanced edge-case fixtures move to PRM-FP-0012.","status":"open","priority":1,"issue_type":"feature","created_at":"2026-02-25T04:01:59.988470Z","created_by":"zac","updated_at":"2026-02-25T04:05:40.634712Z","compaction_level":0,"original_size":0,"labels":["fixtures","parity","tests"]}
{"id":"bd-kmi","title":"PRM-FP-0008: Add smoke tests for CLI surfaces","description":"Add smoke/E2E tests for CLI surfaces and witness subcommands.\n\n## Acceptance Criteria\n- Add smoke tests covering run mode invocation, compile mode invocation (including --check), --list, --describe, --schema, and witness query/last/count; assert documented exit-code routing (0/1/2) at process boundary; tests execute the built binary in temp workspace and avoid reliance on external services.\n\n## Notes\nNon-goal: byte-stable golden snapshots (handled by PRM-FP-0009).","acceptance_criteria":"Add smoke tests covering run mode invocation, compile mode invocation (including --check), --list, --describe, --schema, and witness query/last/count; assert documented exit-code routing (0/1/2) at process boundary; tests execute the built binary in temp workspace and avoid reliance on external services.","notes":"Non-goal: byte-stable golden snapshots (handled by PRM-FP-0009).","status":"open","priority":2,"issue_type":"feature","created_at":"2026-02-25T03:58:31.085316Z","created_by":"zac","updated_at":"2026-02-25T04:05:41.445692Z","compaction_level":0,"original_size":0,"labels":["cli","smoke","tests"],"dependencies":[{"issue_id":"bd-kmi","depends_on_id":"bd-14l","type":"blocks","created_at":"2026-02-25T04:04:32.004569Z","created_by":"zac"},{"issue_id":"bd-kmi","depends_on_id":"bd-9in","type":"blocks","created_at":"2026-02-25T04:02:09.776223Z","created_by":"zac"}]}
{"id":"bd-poy","title":"PRM-FP-0013: Release attestations and signing parity","description":"Add supply-chain release artifacts after base release workflow: checksums, signatures, SBOM, and provenance.\n\n## Acceptance Criteria\n- Release workflow emits SHA256SUMS over distributable archives; cosign signature/certificate artifacts are published with release; CycloneDX SBOM artifact is published with release; provenance statement artifact is published with release; failures in these steps fail the release job.\n\n## Notes\nDepends on base release workflow; do not duplicate build-matrix logic here.","acceptance_criteria":"Release workflow emits SHA256SUMS over distributable archives; cosign signature/certificate artifacts are published with release; CycloneDX SBOM artifact is published with release; provenance statement artifact is published with release; failures in these steps fail the release job.","notes":"Depends on base release workflow; do not duplicate build-matrix logic here.","status":"open","priority":2,"issue_type":"feature","created_at":"2026-02-25T04:04:27.633302Z","created_by":"zac","updated_at":"2026-02-25T04:05:41.202759Z","compaction_level":0,"original_size":0,"labels":["release","security","supply-chain"],"dependencies":[{"issue_id":"bd-poy","depends_on_id":"bd-w5b","type":"blocks","created_at":"2026-02-25T04:04:32.093359Z","created_by":"zac"}]}
{"id":"bd-w5b","title":"PRM-FP-0003: Add base release workflow (build + publish artifacts)","description":"Implement base release workflow parity with rvl: build target matrix archives and publish GitHub release assets. Keep this issue focused on build/publish mechanics only.\n\n## Acceptance Criteria\n- Add .github/workflows/release.yml; workflow derives version from Cargo.toml and ensures tag exists; builds release archives for target matrix and uploads them to GitHub release; generated artifacts are downloadable from release page; no signing/SBOM/provenance steps in this bead (handled separately).\n\n## Notes\nNon-goal: cosign, SHA256SUMS signing, SBOM/provenance generation, or Homebrew formula update.","acceptance_criteria":"Add .github/workflows/release.yml; workflow derives version from Cargo.toml and ensures tag exists; builds release archives for target matrix and uploads them to GitHub release; generated artifacts are downloadable from release page; no signing/SBOM/provenance steps in this bead (handled separately).","notes":"Non-goal: cosign, SHA256SUMS signing, SBOM/provenance generation, or Homebrew formula update.","status":"open","priority":1,"issue_type":"feature","created_at":"2026-02-25T03:58:30.864567Z","created_by":"zac","updated_at":"2026-02-25T04:05:40.962355Z","compaction_level":0,"original_size":0,"labels":["infra","release","workflow"],"dependencies":[{"issue_id":"bd-w5b","depends_on_id":"bd-2fj","type":"blocks","created_at":"2026-02-25T03:58:43.283554Z","created_by":"zac"}]}
